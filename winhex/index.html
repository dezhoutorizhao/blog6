<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="CTF web手、Golang后端开发工程师 研究多线程高并发、渗透测试      Web安全">
    

    <!--Author-->
    
        <meta name="author" content="h3110w0r1d">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="winhex"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="CTF web手、Golang后端开发工程师 研究多线程高并发、渗透测试      Web安全" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="h3110w0r1d&#39;s Blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    
        <meta name="twitter:card" content="summary" />
    
    
    

    <!-- Title -->
    
    <title>winhex - h3110w0r1d&#39;s Blog</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Google Analytics -->
    


<meta name="generator" content="Hexo 5.4.0"></head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/winhex/">
                winhex
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2021-12-24</span>
            
            
                <a href="#disqus_thread" class="comments">留言</a>
            
            
                <span class="category">
                    <a href="/categories/文件修复/">文件修复</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h1 id="文件系统："><a href="#文件系统：" class="headerlink" title="文件系统："></a>文件系统：</h1><pre><code>NTFS存储较有逻辑性
</code></pre>
<h2 id="分配内存大小"><a href="#分配内存大小" class="headerlink" title="分配内存大小"></a>分配内存大小</h2><h2 id="创建虚拟磁盘："><a href="#创建虚拟磁盘：" class="headerlink" title="创建虚拟磁盘："></a>创建虚拟磁盘：</h2><pre><code>１：右键此电脑
２：管理
３：右键磁盘管理，点击创建ＶＨＤ
４：右键新创建的磁盘，初始化１选择MBR（不是GPT）
5：新建简单卷（简单卷大小不用管，NTFS可以选FAT３２）
</code></pre>
<h2 id="底层数据MBR："><a href="#底层数据MBR：" class="headerlink" title="底层数据MBR："></a>底层数据MBR：</h2><p>——————————————————————————</p>
<h3 id="第二个是启动某一个文件功能，打开后可以查看到底层数据"><a href="#第二个是启动某一个文件功能，打开后可以查看到底层数据" class="headerlink" title="第二个是启动某一个文件功能，打开后可以查看到底层数据"></a>第二个是启动某一个文件功能，打开后可以查看到底层数据</h3><p>——————————————————————————<br>##</p>
<ol>
<li>查找中含有区分大小写，按照ASCII码（美国信息交换标准代码）和UNICODE两种编码，因为大多数是美国微软公司，所以可以</li>
<li>选择ASCII；查找中按f3即可启动查找，当找到一个目标值的时候即会暂停，再次点击f3即可再次启动搜索 <h2 id="注意区分搜索文本和搜索十六进制数值"><a href="#注意区分搜索文本和搜索十六进制数值" class="headerlink" title="注意区分搜索文本和搜索十六进制数值"></a>注意区分搜索文本和搜索十六进制数值</h2></li>
<li>Find hex values:<br> 可以搜索底层数据中十六进制的某一个数值（记住，十六进制每一位数都是偶数位，不会出现奇数的情况）</li>
<li>扇区：<h2 id="每512个字节是一个扇区，"><a href="#每512个字节是一个扇区，" class="headerlink" title="每512个字节是一个扇区，"></a>每512个字节是一个扇区，</h2></li>
<li>——————————————————————————————————————<h2 id="查找时可以选择偏移变量："><a href="#查找时可以选择偏移变量：" class="headerlink" title="查找时可以选择偏移变量："></a>查找时可以选择偏移变量：</h2></li>
<li>即到那个字节，从哪个字节，可以提高搜索速度，缩短搜索时间</li>
<li>跳转功能： </li>
<li>点击左边可以十进制和十六进制互相转换： </li>
<li>也可以使用导航——》跳至——》选择文本开始或末尾</li>
<li>看最上面的一栏即可判断是十进制还是十六进制： </li>
<li>跳转到某一个扇区功能： ，单位如果是sector则为以分区为单位</li>
<li>返回上一步或下一步操作：</li>
</ol>
<p>———————————————————————————————————————</p>
<h2 id="Datainterpreter-数据解释器，视图（V）——-gt-显示（Show）——数据解释器"><a href="#Datainterpreter-数据解释器，视图（V）——-gt-显示（Show）——数据解释器" class="headerlink" title="Datainterpreter:数据解释器，视图（V）——&gt;显示（Show）——数据解释器"></a>Datainterpreter:数据解释器，视图（V）——&gt;显示（Show）——数据解释器</h2><h2 id="另：winhex自带计算器caculator"><a href="#另：winhex自带计算器caculator" class="headerlink" title="另：winhex自带计算器caculator;"></a>另：winhex自带计算器caculator;</h2><h2 id="注意，这里的粘贴时ctrl-B-不是ctrl-V"><a href="#注意，这里的粘贴时ctrl-B-不是ctrl-V" class="headerlink" title="注意，这里的粘贴时ctrl+B!!!!!!!!!!!!!!!!!不是ctrl+V"></a>注意，这里的粘贴时ctrl+B!!!!!!!!!!!!!!!!!不是ctrl+V</h2><pre><code>1. 意思和写入相同
</code></pre>
<h2 id="MBR：计算机开机访问硬盘时所必须要读取的首个扇区（0柱面，0磁头，1扇区）"><a href="#MBR：计算机开机访问硬盘时所必须要读取的首个扇区（0柱面，0磁头，1扇区）" class="headerlink" title="MBR：计算机开机访问硬盘时所必须要读取的首个扇区（0柱面，0磁头，1扇区）"></a>MBR：计算机开机访问硬盘时所必须要读取的首个扇区（0柱面，0磁头，1扇区）</h2><pre><code>2. 硬盘是由多个盘片组成的，每个盘片是由多个扇区组成的，每个盘片上由多个磁道（同心圆
</code></pre>
<h2 id="MBR扇区分为"><a href="#MBR扇区分为" class="headerlink" title="MBR扇区分为"></a>MBR扇区分为</h2><ol>
<li>引导程序，计算机启动后读取，如果磁盘数据不对的话会死机，如果非虚拟磁盘的MBR清除的话会死机</li>
<li>磁盘签名：系统在对硬盘初始化时写入的标签，系统依靠标签来识别磁盘（如果磁盘签名丢失会认为硬盘未初始化）</li>
<li>分区表：管理硬盘的分区，如果被破坏则分区会丢失</li>
<li>55AA：结束标志，执行MBR引导程序时，如果最后是55AA才会继续读取下一个分区</li>
<li>从后往前看，最后两个字节为结束标志，再往前走64个字节是分区表（往前走三行），再往前走两个是磁盘签名。再往前是引导程序</li>
</ol>
<h1 id="字节偏移："><a href="#字节偏移：" class="headerlink" title="字节偏移："></a>字节偏移：</h1><pre><code>十六进制表示，0x后面两位是横向表示，后面的是纵向表示
</code></pre>
<p>0x01BE：01B是横向，E是纵向</p>
<h1 id="修复MBR："><a href="#修复MBR：" class="headerlink" title="修复MBR："></a>修复MBR：</h1><pre><code>正常的磁盘都是初始化的，如果不小心按了初始化则相当于格式化了磁盘，MBR全部清0，
</code></pre>
<h2 id="分区总大小-–-分区的起始分区好-分区的大小"><a href="#分区总大小-–-分区的起始分区好-分区的大小" class="headerlink" title="分区总大小 – 分区的起始分区好==分区的大小"></a>分区总大小 – 分区的起始分区好==分区的大小</h2><h2 id="修复中最重要的是修复文件系统类型，分区扇区号和分区总大小，注意最后的55AA"><a href="#修复中最重要的是修复文件系统类型，分区扇区号和分区总大小，注意最后的55AA" class="headerlink" title="修复中最重要的是修复文件系统类型，分区扇区号和分区总大小，注意最后的55AA"></a>修复中最重要的是修复文件系统类型，分区扇区号和分区总大小，注意最后的55AA</h2><h2 id="最后两位是55AA，固定的"><a href="#最后两位是55AA，固定的" class="headerlink" title="最后两位是55AA，固定的"></a>最后两位是55AA，固定的</h2><h2 id="往前走64个字节是分区表，管理磁盘的分区"><a href="#往前走64个字节是分区表，管理磁盘的分区" class="headerlink" title="往前走64个字节是分区表，管理磁盘的分区"></a>往前走64个字节是分区表，管理磁盘的分区</h2><h2 id="再往前走4个字节是磁盘签名"><a href="#再往前走4个字节是磁盘签名" class="headerlink" title="再往前走4个字节是磁盘签名"></a>再往前走4个字节是磁盘签名</h2><h1 id="＊＊＊＊＊＊＊＊＊＊"><a href="#＊＊＊＊＊＊＊＊＊＊" class="headerlink" title="＊＊＊＊＊＊＊＊＊＊"></a>＊＊＊＊＊＊＊＊＊＊</h1><p>硬盘分区详解：<br>    硬盘分区表由四项组成，每项共１６个字节，共４＊１６＝＝６４个字节，每项描述一个分区的基本信息(80) (01 01 00) (07) (FE FF FF) (3F 00 00 00) (82 C1 3B 3A)<br>磁头，扇区，柱面</p>
<h1 id="＊＊＊＊＊存贮字节位＊＊＊＊＊＊"><a href="#＊＊＊＊＊存贮字节位＊＊＊＊＊＊" class="headerlink" title="＊＊＊＊＊存贮字节位＊＊＊＊＊＊"></a>＊＊＊＊＊存贮字节位＊＊＊＊＊＊</h1><h2 id="第1字节：引导标志。若值为80H表示活动分区，若值为00H表示非活动分区。"><a href="#第1字节：引导标志。若值为80H表示活动分区，若值为00H表示非活动分区。" class="headerlink" title="第1字节：引导标志。若值为80H表示活动分区，若值为00H表示非活动分区。"></a>第1字节：引导标志。若值为80H表示活动分区，若值为00H表示非活动分区。</h2><h2 id="第2、3、4字节：本分区的起始磁头号、扇区号、柱面号。其中："><a href="#第2、3、4字节：本分区的起始磁头号、扇区号、柱面号。其中：" class="headerlink" title="第2、3、4字节：本分区的起始磁头号、扇区号、柱面号。其中："></a>第2、3、4字节：本分区的起始磁头号、扇区号、柱面号。其中：</h2><pre><code>磁头号——第2字节；

扇区号——第3字节的低6位；

柱面号——为第3字节高2位+第4字节8位。

第5字节分区类型符。

00H——表示该分区未用（即没有指定）；

06H——FAT16基本分区；

0BH——FAT32基本分区；

05H——扩展分区；

07H——NTFS分区；

0FH——（LBA模式）扩展分区（83H为Linux分区等）。
</code></pre>
<h2 id="第6、7、8字节"><a href="#第6、7、8字节" class="headerlink" title="第6、7、8字节"></a>第6、7、8字节</h2><h2 id="本分区的结束磁头号、扇区号、柱面号。其中："><a href="#本分区的结束磁头号、扇区号、柱面号。其中：" class="headerlink" title="本分区的结束磁头号、扇区号、柱面号。其中："></a>本分区的结束磁头号、扇区号、柱面号。其中：</h2><pre><code>磁头号——第6字节；

扇区号——第7字节的低6位；

柱面号——第7字节的高2位+第8字节。
</code></pre>
<h2 id="第9、10、11、12字节"><a href="#第9、10、11、12字节" class="headerlink" title="第9、10、11、12字节"></a>第9、10、11、12字节</h2><h2 id="逻辑起始扇区号-，本分区之前已用了的扇区数。"><a href="#逻辑起始扇区号-，本分区之前已用了的扇区数。" class="headerlink" title="逻辑起始扇区号 ，本分区之前已用了的扇区数。"></a>逻辑起始扇区号 ，本分区之前已用了的扇区数。</h2><h2 id="第13、14、15、16字节"><a href="#第13、14、15、16字节" class="headerlink" title="第13、14、15、16字节"></a>第13、14、15、16字节</h2><h1 id="本分区的总扇区数。"><a href="#本分区的总扇区数。" class="headerlink" title="本分区的总扇区数。"></a>本分区的总扇区数。</h1><h1 id="紫色的是分盘区，蓝色的是磁盘签名"><a href="#紫色的是分盘区，蓝色的是磁盘签名" class="headerlink" title="紫色的是分盘区，蓝色的是磁盘签名"></a>紫色的是分盘区，蓝色的是磁盘签名</h1><h1 id="磁盘签名可能会每一次打开都不一样，视情况而定"><a href="#磁盘签名可能会每一次打开都不一样，视情况而定" class="headerlink" title="磁盘签名可能会每一次打开都不一样，视情况而定"></a>磁盘签名可能会每一次打开都不一样，视情况而定</h1><h1 id="分区表："><a href="#分区表：" class="headerlink" title="分区表："></a>分区表：</h1><p>这里不同的分区我打上了不同的颜色书签，从磁盘签名往后空两个字节开始是磁盘分区的地方，<br>第三个扇区是逻辑扇区：EBR</p>
<h1 id="数据解释器：-第一位是数据转为10进制后的大小第二位是扇区位置，第三位是扇区大小"><a href="#数据解释器：-第一位是数据转为10进制后的大小第二位是扇区位置，第三位是扇区大小" class="headerlink" title="数据解释器： 第一位是数据转为10进制后的大小第二位是扇区位置，第三位是扇区大小"></a>数据解释器： 第一位是数据转为10进制后的大小第二位是扇区位置，第三位是扇区大小</h1><h1 id="磁盘总大小减去分区的起始扇区号-分区大小"><a href="#磁盘总大小减去分区的起始扇区号-分区大小" class="headerlink" title="磁盘总大小减去分区的起始扇区号 == 分区大小"></a>磁盘总大小减去分区的起始扇区号 == 分区大小</h1><h1 id="概要："><a href="#概要：" class="headerlink" title="概要："></a>概要：</h1><pre><code>1：创建一个新的磁盘
2：将新建磁盘的MBR赋值到被破坏的磁盘的MBR
3：修改被破坏的磁盘的MBR磁盘签名（只需要和复制的不一样即可）
４：找到该磁盘第一个分区的起始扇区
５：从该起始扇区得知文件系统，起始扇区号，分区大小
6:将这些数据填入MBR的分区表中
７：保存，在磁盘管理出进行刷新
</code></pre>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/文件修复/">#文件修复</a> <a href="/tags/winhex/">#winhex</a> <a href="/tags/进制/">#进制</a>
        </div>
    

    <!-- Comments -->
    
    <div class="comments">
        
<div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>



    </div>
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    拒绝划水，拒绝摸鱼
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2023%E5%A4%8D%E7%9B%98/">2023复盘</a>
            </li>
            
            <li>
                <a class="footer-post" href="/%E4%BE%A7%E4%BF%A1%E9%81%93%E6%94%BB%E5%87%BB/">侧信道攻击</a>
            </li>
            
            <li>
                <a class="footer-post" href="/%E8%93%9D%E5%B8%BD%E6%9D%AF%E5%8D%8A%E5%86%B3%E8%B5%9B_%E7%94%B5%E5%AD%90%E5%8F%96%E8%AF%81/">蓝帽杯半决赛wp_电子取证部分</a>
            </li>
            
            <li>
                <a class="footer-post" href="/%E8%93%9D%E5%B8%BD%E6%9D%AF%E5%8D%8A%E5%86%B3%E8%B5%9B_web/">蓝帽杯半决赛wp_web部分</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/CSS/">CSS</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/CSS/ing/">ing</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Hadoop/">Hadoop</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/ing/">ing</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/dezhoutorizhao/blog6">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/dezhoutorizhao/blog6">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/dezhoutorizhao/blog6">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/dezhoutorizhao/blog6">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/dezhoutorizhao/blog6">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="http://dezhoutorizhao.github.io/blog6/">
                            <span class="footer-icon-container">
                                <i class="fa fa-telegram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="http://dezhoutorizhao.github.io/blog6/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="http://dezhoutorizhao.github.io/blog6/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:a18888200398@163.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a target="_blank" rel="noopener" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->

<script src="/js/main.js"></script>


<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'klugjotest';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>